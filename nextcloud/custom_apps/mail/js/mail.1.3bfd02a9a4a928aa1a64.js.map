{"version":3,"sources":["webpack:///./src/components/NavigationAccountExpandCollapse.vue?a5db","webpack:///./src/components/AppSettingsMenu.vue?9c32","webpack:///./src/components/Navigation.vue?8b3c","webpack:///./src/components/NavigationAccount.vue?6cd9","webpack:///src/components/NavigationAccount.vue","webpack:///./src/components/NavigationAccount.vue","webpack:///./src/components/NavigationAccount.vue?eb43","webpack:///./src/components/NavigationAccountExpandCollapse.vue?f1fb","webpack:///src/components/NavigationAccountExpandCollapse.vue","webpack:///./src/components/NavigationAccountExpandCollapse.vue","webpack:///./src/components/NavigationAccountExpandCollapse.vue?27d4","webpack:///./src/l10n/MailboxTranslator.js","webpack:///src/components/NavigationFolder.vue","webpack:///./src/components/NavigationFolder.vue?7c72","webpack:///./src/components/NavigationFolder.vue","webpack:///./src/components/NavigationFolder.vue?eaa8","webpack:///./src/components/AppSettingsMenu.vue?2b54","webpack:///src/components/AppSettingsMenu.vue","webpack:///./src/components/AppSettingsMenu.vue","webpack:///./src/components/AppSettingsMenu.vue?d7d4","webpack:///src/components/Navigation.vue","webpack:///./src/components/Navigation.vue?b567","webpack:///./src/components/Navigation.vue","webpack:///./src/util/AccountColor.js","webpack:///./src/components/NavigationAccountExpandCollapse.vue?0811","webpack:///./src/components/NavigationAccountExpandCollapse.vue?f2fc","webpack:///./src/components/AppSettingsMenu.vue?ab9d","webpack:///./src/components/AppSettingsMenu.vue?ab30"],"names":["content","module","i","locals","exports","add","default","_vm","this","_h","$createElement","_c","_self","key","id","attrs","iconError","menuOpen","account","emailAddress","settingsRoute","on","$event","scopedSlots","_u","fn","_v","_s","t","createFolder","isFirst","_e","changeAccountOrderUp","isLast","changeAccountOrderDown","provisioned","deleteAccount","proxy","bulletColor","slot","title","toggleCollapse","translate","folder","specialUse","length","includes","isUnified","Error","translateSpecial","e","console","error","displayName","genId","icon","to","onMenuToggle","folderId","statsText","loadingMarkAsRead","markAsRead","unread","_l","subFolder","staticClass","domProps","useExternalAvatars","onToggleExternalAvatars","registerProtocolHandler","name","onNewMessage","group","item","directives","rawName","value","collapsed","SHOW_COLLAPSED","indexOf","specialRole","expression","folders","calculateAccountColor","hashed","md5","hsl","conv","hex","fixedHsl","Math","round","___CSS_LOADER_API_IMPORT___","push"],"mappings":"6EAGA,IAAIA,EAAU,EAAQ,KACA,iBAAZA,IAAsBA,EAAU,CAAC,CAACC,EAAOC,EAAIF,EAAS,MAC7DA,EAAQG,SAAQF,EAAOG,QAAUJ,EAAQG,SAG/BE,EADH,EAAQ,KAA+DC,SAChE,WAAYN,GAAS,EAAM,K,oBCL5C,IAAIA,EAAU,EAAQ,KACA,iBAAZA,IAAsBA,EAAU,CAAC,CAACC,EAAOC,EAAIF,EAAS,MAC7DA,EAAQG,SAAQF,EAAOG,QAAUJ,EAAQG,SAG/BE,EADH,EAAQ,KAA+DC,SAChE,WAAYN,GAAS,EAAM,K,iCCR5C,I,0LCAiM,ECkEjM,CACA,yBACA,YACA,sBACA,4BACA,iBACA,iBACA,iBAEA,OACA,SACA,YACA,aAEA,SACA,aACA,YAEA,QACA,aACA,aAGA,KAvBA,WAwBA,OACA,cAGA,UACA,QADA,WAEA,8DAEA,cAJA,WAKA,OACA,uBACA,QACA,6BAIA,GAZA,WAaA,kCAEA,YAfA,WAgBA,yEAEA,UAlBA,WAmBA,gDAGA,SACA,aADA,SACA,GACA,iCACA,+BACA,iBACA,YACA,uDACA,oEACA,mBAEA,MADA,+CACA,MAGA,cAbA,WAcA,sBAEA,YACA,uCACA,iBACA,yDAGA,qDAEA,8EAEA,qBA1BA,WA2BA,YACA,qDACA,+EAEA,uBA/BA,WAgCA,YACA,+CACA,mF,QCpIe,EAXC,YACd,GCRW,WAAa,IAAIO,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAW,QAAEI,EAAG,oBAAoB,CAACE,IAAIN,EAAIO,GAAGC,MAAM,CAAC,GAAKR,EAAIO,GAAG,KAAOP,EAAIS,UAAU,YAAYT,EAAIU,SAAS,MAAQV,EAAIW,QAAQC,aAAa,GAAKZ,EAAIa,eAAeC,GAAG,CAAC,kBAAkB,SAASC,GAAQf,EAAIU,SAASK,GAAQ,mBAAmB,SAASA,GAAQf,EAAIU,SAASK,IAASC,YAAYhB,EAAIiB,GAAG,CAAC,CAACX,IAAI,UAAUY,GAAG,WAAW,MAAO,CAACd,EAAG,eAAe,CAACI,MAAM,CAAC,GAAKR,EAAIa,cAAc,KAAO,kBAAkB,CAACb,EAAImB,GAAG,WAAWnB,EAAIoB,GAAGpB,EAAIqB,EAAE,OAAQ,iBAAiB,YAAYrB,EAAImB,GAAG,KAAKf,EAAG,cAAc,CAACI,MAAM,CAAC,KAAO,YAAYM,GAAG,CAAC,OAASd,EAAIsB,eAAe,CAACtB,EAAImB,GAAG,WAAWnB,EAAIoB,GAAGpB,EAAIqB,EAAE,OAAQ,eAAe,YAAYrB,EAAImB,GAAG,KAAOnB,EAAIuB,QAAoKvB,EAAIwB,KAA/JpB,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,mBAAmBM,GAAG,CAAC,MAAQd,EAAIyB,uBAAuB,CAACzB,EAAImB,GAAG,WAAWnB,EAAIoB,GAAGpB,EAAIqB,EAAE,OAAQ,YAAY,YAAqBrB,EAAImB,GAAG,KAAOnB,EAAI0B,OAAuK1B,EAAIwB,KAAnKpB,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,mBAAmBM,GAAG,CAAC,MAAQd,EAAI2B,yBAAyB,CAAC3B,EAAImB,GAAG,WAAWnB,EAAIoB,GAAGpB,EAAIqB,EAAE,OAAQ,cAAc,YAAqBrB,EAAImB,GAAG,KAAOnB,EAAIW,QAAQiB,YAAoK5B,EAAIwB,KAA3JpB,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,eAAeM,GAAG,CAAC,MAAQd,EAAI6B,gBAAgB,CAAC7B,EAAImB,GAAG,WAAWnB,EAAIoB,GAAGpB,EAAIqB,EAAE,OAAQ,mBAAmB,cAAuBS,OAAM,IAAO,MAAK,EAAM,aAAa,CAAE9B,EAAe,YAAEI,EAAG,0BAA0B,CAACI,MAAM,CAAC,KAAO,OAAO,MAAQR,EAAI+B,aAAaC,KAAK,SAAShC,EAAIwB,MAAM,GAAGxB,EAAIwB,OAC37C,IDUpB,EACA,KACA,KACA,M,QEd6M,EC4B/M,CACA,yBACA,YACA,uBAEA,OACA,SACA,YACA,cAGA,UACA,GADA,WAEA,mCAEA,MAJA,WAKA,0FAGA,SACA,eADA,WAEA,gEC9Be,G,OAXC,YACd,GCTW,WAAa,IAAiBtB,EAATD,KAAgBE,eAAuC,OAAvDF,KAA0CI,MAAMD,IAAIF,GAAa,oBAAoB,CAACM,MAAM,CAAC,MAA7FP,KAAyGgC,OAAOnB,GAAG,CAAC,MAApHb,KAAgIiC,oBAC5I,IDWpB,EACA,KACA,WACA,M,8DEgDWC,EAAY,SAAAC,GACxB,GAAIA,EAAOC,WAAWC,OAAS,EAC9B,IACC,OA3CsB,SAAAF,GACxB,GAAIA,EAAOC,WAAWE,SAAS,OAE9B,OAAOlB,oBAAE,OAAQ,OAElB,GAAIe,EAAOC,WAAWE,SAAS,WAE9B,OAAOlB,oBAAE,OAAQ,WAElB,GAAIe,EAAOC,WAAWE,SAAS,UAE9B,OAAOlB,oBAAE,OAAQ,UAElB,GAAIe,EAAOC,WAAWE,SAAS,WAE9B,OAAOlB,oBAAE,OAAQ,aAElB,GAAIe,EAAOC,WAAWE,SAAS,SAE9B,OAAyB,IAArBH,EAAOI,UACHnB,oBAAE,OAAQ,eAEVA,oBAAE,OAAQ,SAGnB,GAAIe,EAAOC,WAAWE,SAAS,QAE9B,OAAOlB,oBAAE,OAAQ,QAElB,GAAIe,EAAOC,WAAWE,SAAS,QAE9B,OAAOlB,oBAAE,OAAQ,QAElB,GAAIe,EAAOC,WAAWE,SAAS,SAE9B,OAAOlB,oBAAE,OAAQ,SAElB,MAAM,IAAIoB,MAAJ,8BAAiCL,EAAOC,aAMrCK,CAAiBN,GACvB,MAAOO,GACRC,QAAQC,MAAM,qCAAsCF,GAGtD,OAAOP,EAAOU,a,yHCSf,I,EAmEA,ECnJgM,EDgFhM,CACA,wBACA,YACA,sBACA,yBACA,eACA,iBACA,iBAEA,OACA,SACA,YACA,aAEA,QACA,YACA,aAEA,KACA,aACA,aAGA,KAvBA,WAwBA,OACA,mBACA,uBAGA,UACA,MADA,WAEA,uBAEA,SAJA,WAKA,6BAEA,KAPA,WAQA,8EAEA,GAVA,WAWA,OACA,cACA,QACA,0BACA,2BAIA,WAnBA,WAoBA,0EAEA,UAtBA,WAuBA,iFACA,4BACA,+CACA,+BAGA,oEACA,6BACA,iCAIA,wBAGA,SAIA,MAJA,SAIA,GACA,2CAOA,aAZA,SAYA,GACA,GACA,yBAOA,kB,EArBA,mIAsBA,sBAtBA,kBAwBA,4CAxBA,OAwBA,EAxBA,OAyBA,2CACA,mBA1BA,gDA4BA,4BACA,0EA7BA,0D,8KAAA,4CAiCA,aAjCA,SAiCA,GACA,iCACA,+CACA,kFACA,iBACA,YACA,yBACA,qBACA,SAEA,oEACA,mBAEA,MADA,0DACA,MAGA,WAjDA,WAiDA,WACA,0BAEA,YACA,2BACA,qBACA,0BAEA,qFACA,0GACA,qDE5Le,EAXC,YACd,GCRW,WAAa,IAAI9C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,oBAAoB,CAACE,IAAIN,EAAI+C,MAAM/C,EAAIoC,QAAQ5B,MAAM,CAAC,GAAKR,EAAI+C,MAAM/C,EAAIoC,QAAQ,kBAAiB,EAAK,KAAOpC,EAAIgD,KAAK,MAAQhD,EAAIiC,MAAM,GAAKjC,EAAIiD,IAAInC,GAAG,CAAC,kBAAkBd,EAAIkD,eAAe,CAAC9C,EAAG,WAAW,CAAC4B,KAAK,WAAW,CAAEhC,EAAO,IAAE,CAAGA,EAAIW,QAAQ6B,UAAsIxC,EAAIwB,KAA/HpB,EAAG,aAAa,CAACI,MAAM,CAAC,KAAO,YAAY,MAAQR,EAAImD,WAAW,CAACnD,EAAImB,GAAG,aAAanB,EAAIoB,GAAGpB,EAAIoD,WAAW,cAAuBpD,EAAImB,GAAG,KAAOnB,EAAIW,QAAQ6B,UAA2QxC,EAAIwB,KAApQpB,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,iBAAiB,MAAQR,EAAIqB,EAAE,OAAQ,oBAAoB,SAAWrB,EAAIqD,mBAAmBvC,GAAG,CAAC,MAAQd,EAAIsD,aAAa,CAACtD,EAAImB,GAAG,aAAanB,EAAIoB,GAAGpB,EAAIqB,EAAE,OAAQ,6CAA6C,cAAuBrB,EAAImB,GAAG,KAAOnB,EAAIW,QAAQ6B,UAAiKxC,EAAIwB,KAA1JpB,EAAG,cAAc,CAACI,MAAM,CAAC,KAAO,YAAYM,GAAG,CAAC,OAASd,EAAIsB,eAAe,CAACtB,EAAImB,GAAG,aAAanB,EAAIoB,GAAGpB,EAAIqB,EAAE,OAAQ,kBAAkB,eAAwBrB,EAAIwB,MAAM,GAAGxB,EAAImB,GAAG,KAAMnB,EAAIoC,OAAa,OAAEhC,EAAG,uBAAuB,CAACI,MAAM,CAAC,KAAO,WAAWwB,KAAK,WAAW,CAAChC,EAAImB,GAAG,SAASnB,EAAIoB,GAAGpB,EAAIoC,OAAOmB,QAAQ,UAAUvD,EAAIwB,KAAKxB,EAAImB,GAAG,KAAKnB,EAAIwD,GAAIxD,EAAc,YAAE,SAASyD,GAAW,OAAOrD,EAAG,mBAAmB,CAACE,IAAIN,EAAI+C,MAAMU,GAAWjD,MAAM,CAAC,QAAUR,EAAIW,QAAQ,OAAS8C,EAAU,KAAM,SAAY,KACxyC,IDUpB,EACA,KACA,KACA,M,QEd6L,EC2C/L,CACA,uBACA,KAFA,WAGA,OACA,2BAGA,UACA,mBADA,WAEA,8EAGA,SACA,wBADA,SACA,cACA,8BAEA,YACA,2BACA,uBACA,wCAEA,+EACA,iBACA,+BAGA,mCACA,6CACA,MACA,qGACA,IACA,2EACA,SACA,8DCzDe,G,OAXC,YACd,GCTW,WAAa,IAAIzD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,cAAc,CAACsD,YAAY,+DAA+DlD,MAAM,CAAC,GAAK,WAAW,CAACR,EAAImB,GAAG,SAASnB,EAAIoB,GAAGpB,EAAIqB,EAAE,OAAQ,qBAAqB,UAAUrB,EAAImB,GAAG,KAAMnB,EAAyB,sBAAEI,EAAG,IAAI,CAACsD,YAAY,gCAAgC,CAACtD,EAAG,OAAO,CAACsD,YAAY,uBAAuB1D,EAAImB,GAAG,SAASnB,EAAIoB,GAAGpB,EAAIqB,EAAE,OAAQ,qCAAqC,UAAUjB,EAAG,IAAI,CAACsD,YAAY,gBAAgB,CAACtD,EAAG,QAAQ,CAACsD,YAAY,WAAWlD,MAAM,CAAC,GAAK,mBAAmB,KAAO,YAAYmD,SAAS,CAAC,QAAU3D,EAAI4D,oBAAoB9C,GAAG,CAAC,OAASd,EAAI6D,2BAA2B7D,EAAImB,GAAG,KAAKf,EAAG,QAAQ,CAACI,MAAM,CAAC,IAAM,qBAAqB,CAACR,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,OAAQ,0CAA0CrB,EAAImB,GAAG,KAAKf,EAAG,IAAI,CAACA,EAAG,SAAS,CAACsD,YAAY,gCAAgC5C,GAAG,CAAC,MAAQd,EAAI8D,0BAA0B,CAAC9D,EAAImB,GAAG,WAAWnB,EAAIoB,GAAGpB,EAAIqB,EAAE,OAAQ,2CAA2C,cAAcrB,EAAImB,GAAG,KAAKf,EAAG,IAAI,CAACsD,YAAY,2CAA2C,CAACtD,EAAG,cAAc,CAACI,MAAM,CAAC,GAAK,CAACuD,KAAM,uBAAuB,CAAC/D,EAAImB,GAAG,WAAWnB,EAAIoB,GAAGpB,EAAIqB,EAAE,OAAQ,uBAAuB,aAAa,GAAGrB,EAAImB,GAAG,KAAKf,EAAG,IAAI,CAACsD,YAAY,uCAAuC,CAACtD,EAAG,IAAI,CAACI,MAAM,CAAC,KAAO,8BAA8B,OAAS,WAAW,CAACR,EAAImB,GAAGnB,EAAIoB,GAAGpB,EAAIqB,EAAE,OAAQ,8FAA8F,KACz/C,IDWpB,EACA,KACA,WACA,M,SEsDF,mDCrE0L,EDyE1L,CACA,kBACA,YACA,kBACA,qBACA,0BACA,wBACA,kBACA,oBACA,kCACA,oBAEA,KAZA,WAaA,OACA,mBAGA,UACA,KADA,WACA,WACA,qDACA,uBACA,iBACA,yEAGA,OACA,QACA,UACA,gBAKA,SACA,aADA,WAGA,mBACA,eACA,QACA,uCACA,qCACA,qBAIA,QAZA,SAYA,GAEA,WADA,6BACA,IAEA,OAhBA,SAgBA,GACA,mCACA,4BErHI,EAAY,YACd,GpBRW,WAAa,IAAIrB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,gBAAgB,CAACA,EAAG,mBAAmB,CAACI,MAAM,CAAC,KAAOR,EAAIqB,EAAE,OAAQ,eAAe,YAAY,mBAAmB,eAAe,YAAYP,GAAG,CAAC,MAAQd,EAAIgE,gBAAgBhE,EAAImB,GAAG,KAAKf,EAAG,KAAK,CAACI,MAAM,CAAC,GAAK,kBAAkB,CAACR,EAAIwD,GAAIxD,EAAQ,MAAE,SAASiE,GAAO,MAAO,CAAEA,EAAa,QAAE7D,EAAG,oBAAoB,CAACE,IAAI2D,EAAMtD,QAAQJ,GAAGC,MAAM,CAAC,QAAUyD,EAAMtD,QAAQ,WAAWX,EAAIuB,QAAQ0C,EAAMtD,SAAS,UAAUX,EAAI0B,OAAOuC,EAAMtD,YAAYX,EAAIwB,KAAKxB,EAAImB,GAAG,KAAKnB,EAAIwD,GAAIS,EAAa,SAAE,SAASC,GAAM,OAAO9D,EAAG,mBAAmB,CAAC+D,WAAW,CAAC,CAACJ,KAAK,OAAOK,QAAQ,SAASC,OAAQJ,EAAMtD,QAAQ2D,YAA+D,IAAlDtE,EAAIuE,eAAeC,QAAQN,EAAKO,aAAqBC,WAAW,gFAAgFpE,IAAI4D,EAAK5D,IAAIE,MAAM,CAAC,QAAUyD,EAAMtD,QAAQ,OAASuD,QAAUlE,EAAImB,GAAG,MAAO8C,EAAMtD,QAAQ6B,WAAayB,EAAMtD,QAAQgE,QAAQrC,OAAS,EAAGlC,EAAG,kCAAkC,CAACE,IAAI,YAAc2D,EAAMtD,QAAQJ,GAAGC,MAAM,CAAC,QAAUyD,EAAMtD,WAAWX,EAAIwB,KAAKxB,EAAImB,GAAG,KAAKf,EAAG,sBAAsB,CAACE,IAAI,UAAY2D,EAAMtD,QAAQJ,UAAS,GAAGP,EAAImB,GAAG,KAAKf,EAAG,wBAAwB,CAACI,MAAM,CAAC,MAAQR,EAAIqB,EAAE,OAAQ,cAAc,CAACjB,EAAG,oBAAoB,IAAI,KACpvC,IoBUpB,EACA,KACA,WACA,MAIa,M,0CClBf,0EAwBawE,EAAwB,SAAAb,GACpC,IAAMc,EAASC,IAAIf,GACbgB,EAAMC,IAAKC,IAAIF,IAAIF,GACnBK,EAAW,CAA2B,GAA1BC,KAAKC,MAAML,EAAI,GAAK,IAAUA,EAAI,GAAIA,EAAI,IAE5D,MAAO,IAAMC,IAAKD,IAAIE,IAAIC,K,iCC7B3B,oBAAqY,G,qBCErYrF,EADkC,EAAQ,IAChCwF,EAA4B,IAE9BC,KAAK,CAAC5F,EAAOC,EAAI,wFAAyF,KAElHD,EAAOG,QAAUA,G,iCCNjB,oBAAyU,G,qBCEzUA,EADkC,EAAQ,IAChCwF,EAA4B,IAE9BC,KAAK,CAAC5F,EAAOC,EAAI,4YAA6Y,KAEtaD,EAAOG,QAAUA","file":"mail.1.3bfd02a9a4a928aa1a64.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=style&index=0&id=7015b306&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"f5677480\", content, true, {});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=style&index=0&id=14b23999&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7cf5a1ef\", content, true, {});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppNavigation',[_c('AppNavigationNew',{attrs:{\"text\":_vm.t('mail', 'New message'),\"button-id\":\"mail_new_message\",\"button-class\":\"icon-add\"},on:{\"click\":_vm.onNewMessage}}),_vm._v(\" \"),_c('ul',{attrs:{\"id\":\"accounts-list\"}},[_vm._l((_vm.menu),function(group){return [(group.account)?_c('NavigationAccount',{key:group.account.id,attrs:{\"account\":group.account,\"is-first\":_vm.isFirst(group.account),\"is-last\":_vm.isLast(group.account)}}):_vm._e(),_vm._v(\" \"),_vm._l((group.folders),function(item){return _c('NavigationFolder',{directives:[{name:\"show\",rawName:\"v-show\",value:(!group.account.collapsed || _vm.SHOW_COLLAPSED.indexOf(item.specialRole) !== -1),expression:\"!group.account.collapsed || SHOW_COLLAPSED.indexOf(item.specialRole) !== -1\"}],key:item.key,attrs:{\"account\":group.account,\"folder\":item}})}),_vm._v(\" \"),(!group.account.isUnified && group.account.folders.length > 0)?_c('NavigationAccountExpandCollapse',{key:'collapse-' + group.account.id,attrs:{\"account\":group.account}}):_vm._e(),_vm._v(\" \"),_c('AppNavigationSpacer',{key:'spacer-' + group.account.id})]})],2),_vm._v(\" \"),_c('AppNavigationSettings',{attrs:{\"title\":_vm.t('mail', 'Settings')}},[_c('AppSettingsMenu')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccount.vue?vue&type=script&lang=js&\"","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<AppNavigationItem\n\t\tv-if=\"visible\"\n\t\t:id=\"id\"\n\t\t:key=\"id\"\n\t\t:icon=\"iconError\"\n\t\t:menu-open.sync=\"menuOpen\"\n\t\t:title=\"account.emailAddress\"\n\t\t:to=\"settingsRoute\"\n\t>\n\t\t<!-- Color dot -->\n\t\t<AppNavigationIconBullet v-if=\"bulletColor\" slot=\"icon\" :color=\"bulletColor\" />\n\n\t\t<!-- Actions -->\n\t\t<template #actions>\n\t\t\t<ActionRouter :to=\"settingsRoute\" icon=\"icon-settings\">\n\t\t\t\t{{ t('mail', 'Edit account') }}\n\t\t\t</ActionRouter>\n\t\t\t<ActionInput icon=\"icon-add\" @submit=\"createFolder\">\n\t\t\t\t{{ t('mail', 'Add folder') }}\n\t\t\t</ActionInput>\n\t\t\t<ActionButton v-if=\"!isFirst\" icon=\"icon-triangle-n\" @click=\"changeAccountOrderUp\">\n\t\t\t\t{{ t('mail', 'Move Up') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"!isLast\" icon=\"icon-triangle-s\" @click=\"changeAccountOrderDown\">\n\t\t\t\t{{ t('mail', 'Move down') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"!account.provisioned\" icon=\"icon-delete\" @click=\"deleteAccount\">\n\t\t\t\t{{ t('mail', 'Delete account') }}\n\t\t\t</ActionButton>\n\t\t</template>\n\t</AppNavigationItem>\n</template>\n\n<script>\nimport AppNavigationItem from '@nextcloud/vue/dist/Components/AppNavigationItem'\nimport AppNavigationIconBullet from '@nextcloud/vue/dist/Components/AppNavigationIconBullet'\nimport ActionRouter from '@nextcloud/vue/dist/Components/ActionRouter'\nimport ActionButton from '@nextcloud/vue/dist/Components/ActionButton'\nimport ActionInput from '@nextcloud/vue/dist/Components/ActionInput'\nimport {generateUrl} from '@nextcloud/router'\n\nimport {calculateAccountColor} from '../util/AccountColor'\nimport logger from '../logger'\n\nexport default {\n\tname: 'NavigationAccount',\n\tcomponents: {\n\t\tAppNavigationItem,\n\t\tAppNavigationIconBullet,\n\t\tActionRouter,\n\t\tActionButton,\n\t\tActionInput,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tisFirst: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tisLast: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmenuOpen: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tvisible() {\n\t\t\treturn this.account.isUnified !== true && this.account.visible !== false\n\t\t},\n\t\tsettingsRoute() {\n\t\t\treturn {\n\t\t\t\tname: 'accountSettings',\n\t\t\t\tparams: {\n\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\tid() {\n\t\t\treturn 'account-' + this.account.id\n\t\t},\n\t\tbulletColor() {\n\t\t\treturn this.account.error ? undefined : calculateAccountColor(this.account.emailAddress)\n\t\t},\n\t\ticonError() {\n\t\t\treturn this.account.error ? 'icon-error' : undefined\n\t\t},\n\t},\n\tmethods: {\n\t\tcreateFolder(e) {\n\t\t\tconst name = e.target.elements[1].value\n\t\t\tlogger.info('creating folder ' + name)\n\t\t\tthis.menuOpen = false\n\t\t\tthis.$store\n\t\t\t\t.dispatch('createFolder', {account: this.account, name})\n\t\t\t\t.then(() => logger.info(`folder ${name} created`))\n\t\t\t\t.catch(error => {\n\t\t\t\t\tlogger.error('could not create folder', {error})\n\t\t\t\t\tthrow error\n\t\t\t\t})\n\t\t},\n\t\tdeleteAccount() {\n\t\t\tconst id = this.account.id\n\n\t\t\tthis.$store\n\t\t\t\t.dispatch('deleteAccount', this.account)\n\t\t\t\t.then(() => {\n\t\t\t\t\tlogger.info(`account ${id} deleted, redirecting …`)\n\n\t\t\t\t\t// TODO: update store and handle this more efficiently\n\t\t\t\t\tlocation.href = generateUrl('/apps/mail')\n\t\t\t\t})\n\t\t\t\t.catch(error => logger.error('could not delete account', {error}))\n\t\t},\n\t\tchangeAccountOrderUp() {\n\t\t\tthis.$store\n\t\t\t\t.dispatch('moveAccount', {account: this.account, up: true})\n\t\t\t\t.catch(error => logger.error('could not move account up', {error}))\n\t\t},\n\t\tchangeAccountOrderDown() {\n\t\t\tthis.$store\n\t\t\t\t.dispatch('moveAccount', {account: this.account})\n\t\t\t\t.catch(error => logger.error('could not move account down', {error}))\n\t\t},\n\t},\n}\n</script>\n","import { render, staticRenderFns } from \"./NavigationAccount.vue?vue&type=template&id=dcf30610&\"\nimport script from \"./NavigationAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationAccount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.visible)?_c('AppNavigationItem',{key:_vm.id,attrs:{\"id\":_vm.id,\"icon\":_vm.iconError,\"menu-open\":_vm.menuOpen,\"title\":_vm.account.emailAddress,\"to\":_vm.settingsRoute},on:{\"update:menuOpen\":function($event){_vm.menuOpen=$event},\"update:menu-open\":function($event){_vm.menuOpen=$event}},scopedSlots:_vm._u([{key:\"actions\",fn:function(){return [_c('ActionRouter',{attrs:{\"to\":_vm.settingsRoute,\"icon\":\"icon-settings\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Edit account'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('ActionInput',{attrs:{\"icon\":\"icon-add\"},on:{\"submit\":_vm.createFolder}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add folder'))+\"\\n\\t\\t\")]),_vm._v(\" \"),(!_vm.isFirst)?_c('ActionButton',{attrs:{\"icon\":\"icon-triangle-n\"},on:{\"click\":_vm.changeAccountOrderUp}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Move Up'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.isLast)?_c('ActionButton',{attrs:{\"icon\":\"icon-triangle-s\"},on:{\"click\":_vm.changeAccountOrderDown}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Move down'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.account.provisioned)?_c('ActionButton',{attrs:{\"icon\":\"icon-delete\"},on:{\"click\":_vm.deleteAccount}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Delete account'))+\"\\n\\t\\t\")]):_vm._e()]},proxy:true}],null,false,1751902140)},[(_vm.bulletColor)?_c('AppNavigationIconBullet',{attrs:{\"slot\":\"icon\",\"color\":_vm.bulletColor},slot:\"icon\"}):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=script&lang=js&\"","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<AppNavigationItem :title=\"title\" @click=\"toggleCollapse\" />\n</template>\n\n<script>\nimport AppNavigationItem from '@nextcloud/vue/dist/Components/AppNavigationItem'\n\nexport default {\n\tname: 'NavigationAccount',\n\tcomponents: {\n\t\tAppNavigationItem,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tid() {\n\t\t\treturn 'collapse-' + this.account.id\n\t\t},\n\t\ttitle() {\n\t\t\treturn this.account.collapsed ? t('mail', 'Show all folders') : t('mail', 'Collapse folders')\n\t\t},\n\t},\n\tmethods: {\n\t\ttoggleCollapse() {\n\t\t\tthis.$store.commit('toggleAccountCollapsed', this.account.id)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep .app-navigation-entry__title {\n\tcolor: var(--color-text-maxcontrast);\n}\n</style>\n","import { render, staticRenderFns } from \"./NavigationAccountExpandCollapse.vue?vue&type=template&id=7015b306&scoped=true&\"\nimport script from \"./NavigationAccountExpandCollapse.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationAccountExpandCollapse.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavigationAccountExpandCollapse.vue?vue&type=style&index=0&id=7015b306&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7015b306\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppNavigationItem',{attrs:{\"title\":_vm.title},on:{\"click\":_vm.toggleCollapse}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {translate as t} from '@nextcloud/l10n'\n\nconst translateSpecial = folder => {\n\tif (folder.specialUse.includes('all')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'All')\n\t}\n\tif (folder.specialUse.includes('archive')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Archive')\n\t}\n\tif (folder.specialUse.includes('drafts')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Drafts')\n\t}\n\tif (folder.specialUse.includes('flagged')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Favorites')\n\t}\n\tif (folder.specialUse.includes('inbox')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\tif (folder.isUnified === true) {\n\t\t\treturn t('mail', 'All inboxes')\n\t\t} else {\n\t\t\treturn t('mail', 'Inbox')\n\t\t}\n\t}\n\tif (folder.specialUse.includes('junk')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Junk')\n\t}\n\tif (folder.specialUse.includes('sent')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Sent')\n\t}\n\tif (folder.specialUse.includes('trash')) {\n\t\t// TRANSLATORS: translated mail box name\n\t\treturn t('mail', 'Trash')\n\t}\n\tthrow new Error(`unknown special use ${folder.specialUse}`)\n}\n\nexport const translate = folder => {\n\tif (folder.specialUse.length > 0) {\n\t\ttry {\n\t\t\treturn translateSpecial(folder)\n\t\t} catch (e) {\n\t\t\tconsole.error('could not translate special folder', e)\n\t\t}\n\t}\n\treturn folder.displayName\n}\n","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<AppNavigationItem\n\t\t:id=\"genId(folder)\"\n\t\t:key=\"genId(folder)\"\n\t\t:allow-collapse=\"true\"\n\t\t:icon=\"icon\"\n\t\t:title=\"title\"\n\t\t:to=\"to\"\n\t\t@update:menuOpen=\"onMenuToggle\"\n\t>\n\t\t<!-- actions -->\n\t\t<template slot=\"actions\">\n\t\t\t<template v-if=\"top\">\n\t\t\t\t<ActionText v-if=\"!account.isUnified\" icon=\"icon-info\" :title=\"folderId\">\n\t\t\t\t\t{{ statsText }}\n\t\t\t\t</ActionText>\n\n\t\t\t\t<!-- TODO: make *mark as read* available for all folders once there is more than one action -->\n\t\t\t\t<ActionButton\n\t\t\t\t\tv-if=\"!account.isUnified\"\n\t\t\t\t\ticon=\"icon-checkmark\"\n\t\t\t\t\t:title=\"t('mail', 'Mark all as read')\"\n\t\t\t\t\t:disabled=\"loadingMarkAsRead\"\n\t\t\t\t\t@click=\"markAsRead\"\n\t\t\t\t>\n\t\t\t\t\t{{ t('mail', 'Mark all messages of this folder as read') }}\n\t\t\t\t</ActionButton>\n\n\t\t\t\t<ActionInput v-if=\"!account.isUnified\" icon=\"icon-add\" @submit=\"createFolder\">\n\t\t\t\t\t{{ t('mail', 'Add subfolder') }}\n\t\t\t\t</ActionInput>\n\t\t\t</template>\n\t\t</template>\n\t\t<AppNavigationCounter v-if=\"folder.unread\" slot=\"counter\">\n\t\t\t{{ folder.unread }}\n\t\t</AppNavigationCounter>\n\n\t\t<!-- subfolders -->\n\t\t<NavigationFolder\n\t\t\tv-for=\"subFolder in subFolders\"\n\t\t\t:key=\"genId(subFolder)\"\n\t\t\t:account=\"account\"\n\t\t\t:folder=\"subFolder\"\n\t\t\t:top=\"false\"\n\t\t/>\n\t</AppNavigationItem>\n</template>\n\n<script>\nimport AppNavigationItem from '@nextcloud/vue/dist/Components/AppNavigationItem'\nimport AppNavigationCounter from '@nextcloud/vue/dist/Components/AppNavigationCounter'\nimport ActionButton from '@nextcloud/vue/dist/Components/ActionButton'\nimport ActionInput from '@nextcloud/vue/dist/Components/ActionInput'\nimport ActionText from '@nextcloud/vue/dist/Components/ActionText'\n\nimport {getFolderStats} from '../service/FolderService'\nimport logger from '../logger'\nimport {translate as translateMailboxName} from '../l10n/MailboxTranslator'\n\nexport default {\n\tname: 'NavigationFolder',\n\tcomponents: {\n\t\tAppNavigationItem,\n\t\tAppNavigationCounter,\n\t\tActionText,\n\t\tActionButton,\n\t\tActionInput,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tfolder: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\ttop: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfolderStats: undefined,\n\t\t\tloadingMarkAsRead: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\ttitle() {\n\t\t\treturn translateMailboxName(this.folder)\n\t\t},\n\t\tfolderId() {\n\t\t\treturn atob(this.folder.id)\n\t\t},\n\t\ticon() {\n\t\t\treturn this.folder.specialRole ? 'icon-' + this.folder.specialRole : 'icon-folder'\n\t\t},\n\t\tto() {\n\t\t\treturn {\n\t\t\t\tname: 'folder',\n\t\t\t\tparams: {\n\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t\tfolderId: this.folder.id,\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\tsubFolders() {\n\t\t\treturn this.$store.getters.getSubfolders(this.account.id, this.folder.id)\n\t\t},\n\t\tstatsText() {\n\t\t\tif (this.folderStats && 'total' in this.folderStats && 'unread' in this.folderStats) {\n\t\t\t\tif (this.folderStats.unread === 0) {\n\t\t\t\t\treturn n('mail', '{total} message', '{total} messages', {\n\t\t\t\t\t\ttotal: this.folderStats.total,\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\treturn n('mail', '{unread} unread of {total}', '{unread} unread of {total}', {\n\t\t\t\t\t\ttotal: this.folderStats.total,\n\t\t\t\t\t\tunread: this.folderStats.unread,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn t('mail', 'Loading …')\n\t\t},\n\t},\n\tmethods: {\n\t\t/**\n\t\t * Generate unique key id for a specific folder\n\t\t */\n\t\tgenId(folder) {\n\t\t\treturn 'account-' + this.account.id + '_' + folder.id\n\t\t},\n\n\t\t/**\n\t\t * On menu toggle, fetch stats\n\t\t * @param {boolean} open menu opened state\n\t\t */\n\t\tonMenuToggle(open) {\n\t\t\tif (open) {\n\t\t\t\tthis.fetchFolderStats()\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Fetch folder unread/read stats\n\t\t */\n\t\tasync fetchFolderStats() {\n\t\t\tthis.folderStats = null\n\t\t\ttry {\n\t\t\t\tconst stats = await getFolderStats(this.account.id, this.folder.id)\n\t\t\t\tlogger.debug('loaded folder stats', {stats})\n\t\t\t\tthis.folderStats = stats\n\t\t\t} catch (error) {\n\t\t\t\tthis.folderStats = {error: true}\n\t\t\t\tlogger.error(`could not load folder stats for ${this.folder.id}`, error)\n\t\t\t}\n\t\t},\n\n\t\tcreateFolder(e) {\n\t\t\tconst name = e.target.elements[1].value\n\t\t\tconst withPrefix = atob(this.folder.id) + this.folder.delimiter + name\n\t\t\tlogger.info(`creating folder ${withPrefix} as subfolder of ${this.folder.id}`)\n\t\t\tthis.menuOpen = false\n\t\t\tthis.$store\n\t\t\t\t.dispatch('createFolder', {\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tname: withPrefix,\n\t\t\t\t})\n\t\t\t\t.then(() => logger.info(`folder ${withPrefix} created`))\n\t\t\t\t.catch(error => {\n\t\t\t\t\tlogger.error(`could not create folder ${withPrefix}`, {error})\n\t\t\t\t\tthrow error\n\t\t\t\t})\n\t\t},\n\t\tmarkAsRead() {\n\t\t\tthis.loadingMarkAsRead = true\n\n\t\t\tthis.$store\n\t\t\t\t.dispatch('markFolderRead', {\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tfolderId: this.folder.id,\n\t\t\t\t})\n\t\t\t\t.then(() => logger.info(`folder ${this.folder.id} marked as read`))\n\t\t\t\t.catch(error => logger.error(`could not mark folder ${this.folder.id} as read`, {error}))\n\t\t\t\t.then(() => (this.loadingMarkAsRead = false))\n\t\t},\n\t},\n}\n</script>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationFolder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationFolder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavigationFolder.vue?vue&type=template&id=55916702&\"\nimport script from \"./NavigationFolder.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationFolder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppNavigationItem',{key:_vm.genId(_vm.folder),attrs:{\"id\":_vm.genId(_vm.folder),\"allow-collapse\":true,\"icon\":_vm.icon,\"title\":_vm.title,\"to\":_vm.to},on:{\"update:menuOpen\":_vm.onMenuToggle}},[_c('template',{slot:\"actions\"},[(_vm.top)?[(!_vm.account.isUnified)?_c('ActionText',{attrs:{\"icon\":\"icon-info\",\"title\":_vm.folderId}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.statsText)+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.account.isUnified)?_c('ActionButton',{attrs:{\"icon\":\"icon-checkmark\",\"title\":_vm.t('mail', 'Mark all as read'),\"disabled\":_vm.loadingMarkAsRead},on:{\"click\":_vm.markAsRead}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Mark all messages of this folder as read'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.account.isUnified)?_c('ActionInput',{attrs:{\"icon\":\"icon-add\"},on:{\"submit\":_vm.createFolder}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Add subfolder'))+\"\\n\\t\\t\\t\")]):_vm._e()]:_vm._e()],2),_vm._v(\" \"),(_vm.folder.unread)?_c('AppNavigationCounter',{attrs:{\"slot\":\"counter\"},slot:\"counter\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.folder.unread)+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.subFolders),function(subFolder){return _c('NavigationFolder',{key:_vm.genId(subFolder),attrs:{\"account\":_vm.account,\"folder\":subFolder,\"top\":false}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=script&lang=js&\"","<template>\n\t<div>\n\t\t<router-link to=\"/setup\" class=\"icon-add-white app-settings-button button primary new-button\">\n\t\t\t{{ t('mail', 'Add mail account') }}\n\t\t</router-link>\n\n\t\t<p v-if=\"loadingAvatarSettings\" class=\"app-settings avatar-settings\">\n\t\t\t<span class=\"icon-loading-small\"></span>\n\t\t\t{{ t('mail', 'Use Gravatar and favicon avatars') }}\n\t\t</p>\n\t\t<p v-else class=\"app-settings\">\n\t\t\t<input\n\t\t\t\tid=\"gravatar-enabled\"\n\t\t\t\tclass=\"checkbox\"\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\t:checked=\"useExternalAvatars\"\n\t\t\t\t@change=\"onToggleExternalAvatars\"\n\t\t\t/>\n\t\t\t<label for=\"gravatar-enabled\">{{ t('mail', 'Use Gravatar and favicon avatars') }}</label>\n\t\t</p>\n\t\t<p>\n\t\t\t<button class=\"icon-mail app-settings-button\" @click=\"registerProtocolHandler\">\n\t\t\t\t{{ t('mail', 'Register as application for mail links') }}\n\t\t\t</button>\n\t\t</p>\n\t\t<p class=\"icon-details app-settings-button button\">\n\t\t\t<router-link :to=\"{name: 'keyboardShortcuts'}\">\n\t\t\t\t{{ t('mail', 'Keyboard shortcuts') }}\n\t\t\t</router-link>\n\t\t</p>\n\n\t\t<p class=\"app-settings-hint app-settings-link\">\n\t\t\t<a href=\"https://www.mailvelope.com/\" target=\"_blank\">{{\n\t\t\t\tt('mail', 'Looking for a way to encrypt your emails? Install the Mailvelope browser extension!')\n\t\t\t}}</a>\n\t\t</p>\n\t</div>\n</template>\n\n<script>\nimport Logger from '../logger'\nimport {generateUrl} from '@nextcloud/router'\n\nexport default {\n\tname: 'AppSettingsMenu',\n\tdata() {\n\t\treturn {\n\t\t\tloadingAvatarSettings: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tuseExternalAvatars() {\n\t\t\treturn this.$store.getters.getPreference('external-avatars', 'true') === 'true'\n\t\t},\n\t},\n\tmethods: {\n\t\tonToggleExternalAvatars(e) {\n\t\t\tthis.loadingAvatarSettings = true\n\n\t\t\tthis.$store\n\t\t\t\t.dispatch('savePreference', {\n\t\t\t\t\tkey: 'external-avatars',\n\t\t\t\t\tvalue: e.target.checked ? 'true' : 'false',\n\t\t\t\t})\n\t\t\t\t.catch(error => Logger.error('could not save preferences', {error}))\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loadingAvatarSettings = false\n\t\t\t\t})\n\t\t},\n\t\tregisterProtocolHandler: function() {\n\t\t\tif (window.navigator.registerProtocolHandler) {\n\t\t\t\tvar url =\n\t\t\t\t\twindow.location.protocol + '//' + window.location.host + generateUrl('apps/mail/compose?uri=%s')\n\t\t\t\ttry {\n\t\t\t\t\twindow.navigator.registerProtocolHandler('mailto', url, OC.theme.name + ' Mail')\n\t\t\t\t} catch (err) {\n\t\t\t\t\tLogger.error('could not register protocol handler', {err})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\np.avatar-settings span.icon-loading-small {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tpadding: 5px 0;\n}\np.app-settings {\n\tpadding: 10px 0;\n}\n.app-settings-button {\n\tdisplay: block;\n\tpadding-left: 34px;\n\tbackground-position: 10px center;\n}\n.app-settings-link {\n\ttext-decoration: underline;\n}\n</style>\n","import { render, staticRenderFns } from \"./AppSettingsMenu.vue?vue&type=template&id=14b23999&scoped=true&\"\nimport script from \"./AppSettingsMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./AppSettingsMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppSettingsMenu.vue?vue&type=style&index=0&id=14b23999&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14b23999\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-link',{staticClass:\"icon-add-white app-settings-button button primary new-button\",attrs:{\"to\":\"/setup\"}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Add mail account'))+\"\\n\\t\")]),_vm._v(\" \"),(_vm.loadingAvatarSettings)?_c('p',{staticClass:\"app-settings avatar-settings\"},[_c('span',{staticClass:\"icon-loading-small\"}),_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('mail', 'Use Gravatar and favicon avatars'))+\"\\n\\t\")]):_c('p',{staticClass:\"app-settings\"},[_c('input',{staticClass:\"checkbox\",attrs:{\"id\":\"gravatar-enabled\",\"type\":\"checkbox\"},domProps:{\"checked\":_vm.useExternalAvatars},on:{\"change\":_vm.onToggleExternalAvatars}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"gravatar-enabled\"}},[_vm._v(_vm._s(_vm.t('mail', 'Use Gravatar and favicon avatars')))])]),_vm._v(\" \"),_c('p',[_c('button',{staticClass:\"icon-mail app-settings-button\",on:{\"click\":_vm.registerProtocolHandler}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Register as application for mail links'))+\"\\n\\t\\t\")])]),_vm._v(\" \"),_c('p',{staticClass:\"icon-details app-settings-button button\"},[_c('router-link',{attrs:{\"to\":{name: 'keyboardShortcuts'}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mail', 'Keyboard shortcuts'))+\"\\n\\t\\t\")])],1),_vm._v(\" \"),_c('p',{staticClass:\"app-settings-hint app-settings-link\"},[_c('a',{attrs:{\"href\":\"https://www.mailvelope.com/\",\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.t('mail', 'Looking for a way to encrypt your emails? Install the Mailvelope browser extension!')))])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<AppNavigation>\n\t\t<AppNavigationNew\n\t\t\t:text=\"t('mail', 'New message')\"\n\t\t\tbutton-id=\"mail_new_message\"\n\t\t\tbutton-class=\"icon-add\"\n\t\t\t@click=\"onNewMessage\"\n\t\t/>\n\t\t<ul id=\"accounts-list\">\n\t\t\t<template v-for=\"group in menu\">\n\t\t\t\t<NavigationAccount\n\t\t\t\t\tv-if=\"group.account\"\n\t\t\t\t\t:key=\"group.account.id\"\n\t\t\t\t\t:account=\"group.account\"\n\t\t\t\t\t:is-first=\"isFirst(group.account)\"\n\t\t\t\t\t:is-last=\"isLast(group.account)\"\n\t\t\t\t/>\n\t\t\t\t<NavigationFolder\n\t\t\t\t\tv-for=\"item in group.folders\"\n\t\t\t\t\tv-show=\"!group.account.collapsed || SHOW_COLLAPSED.indexOf(item.specialRole) !== -1\"\n\t\t\t\t\t:key=\"item.key\"\n\t\t\t\t\t:account=\"group.account\"\n\t\t\t\t\t:folder=\"item\"\n\t\t\t\t/>\n\t\t\t\t<NavigationAccountExpandCollapse\n\t\t\t\t\tv-if=\"!group.account.isUnified && group.account.folders.length > 0\"\n\t\t\t\t\t:key=\"'collapse-' + group.account.id\"\n\t\t\t\t\t:account=\"group.account\"\n\t\t\t\t/>\n\t\t\t\t<AppNavigationSpacer :key=\"'spacer-' + group.account.id\" />\n\t\t\t</template>\n\t\t</ul>\n\t\t<AppNavigationSettings :title=\"t('mail', 'Settings')\">\n\t\t\t<AppSettingsMenu />\n\t\t</AppNavigationSettings>\n\t</AppNavigation>\n</template>\n\n<script>\nimport AppNavigation from '@nextcloud/vue/dist/Components/AppNavigation'\nimport AppNavigationNew from '@nextcloud/vue/dist/Components/AppNavigationNew'\nimport AppNavigationSettings from '@nextcloud/vue/dist/Components/AppNavigationSettings'\nimport AppNavigationSpacer from '@nextcloud/vue/dist/Components/AppNavigationSpacer'\n\nimport NavigationAccount from './NavigationAccount'\nimport NavigationAccountExpandCollapse from './NavigationAccountExpandCollapse'\nimport NavigationFolder from './NavigationFolder'\n\nconst SHOW_COLLAPSED = Object.seal(['inbox', 'flagged', 'drafts', 'sent'])\n\nimport AppSettingsMenu from '../components/AppSettingsMenu'\n\nexport default {\n\tname: 'Navigation',\n\tcomponents: {\n\t\tAppNavigation,\n\t\tAppNavigationNew,\n\t\tAppNavigationSettings,\n\t\tAppNavigationSpacer,\n\t\tAppSettingsMenu,\n\t\tNavigationAccount,\n\t\tNavigationAccountExpandCollapse,\n\t\tNavigationFolder,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tSHOW_COLLAPSED,\n\t\t}\n\t},\n\tcomputed: {\n\t\tmenu() {\n\t\t\treturn this.$store.getters.accounts.map(account => {\n\t\t\t\tconst folders = this.$store.getters\n\t\t\t\t\t.getFolders(account.id)\n\t\t\t\t\t.filter(folder => !account.collapsed || SHOW_COLLAPSED.indexOf(folder.specialRole) !== -1)\n\t\t\t\t//.map(folderToEntry)\n\n\t\t\t\treturn {\n\t\t\t\t\tid: account.id,\n\t\t\t\t\taccount: account,\n\t\t\t\t\tfolders,\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t},\n\tmethods: {\n\t\tonNewMessage() {\n\t\t\t// FIXME: assumes that we're on the 'message' route already\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'message',\n\t\t\t\tparams: {\n\t\t\t\t\taccountId: this.$route.params.accountId,\n\t\t\t\t\tfolderId: this.$route.params.folderId,\n\t\t\t\t\tmessageUid: 'new',\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tisFirst(account) {\n\t\t\tconst accounts = this.$store.getters.accounts\n\t\t\treturn account === accounts[1]\n\t\t},\n\t\tisLast(account) {\n\t\t\tconst accounts = this.$store.getters.accounts\n\t\t\treturn account === accounts[accounts.length - 1]\n\t\t},\n\t},\n}\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navigation.vue?vue&type=template&id=1c849ed8&scoped=true&\"\nimport script from \"./Navigation.vue?vue&type=script&lang=js&\"\nexport * from \"./Navigation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c849ed8\",\n  null\n  \n)\n\nexport default component.exports","/**\n * @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport md5 from 'md5'\nimport conv from 'color-convert'\n\nexport const calculateAccountColor = name => {\n\tconst hashed = md5(name)\n\tconst hsl = conv.hex.hsl(hashed)\n\tconst fixedHsl = [Math.round(hsl[0] / 40) * 40, hsl[1], hsl[2]]\n\n\treturn '#' + conv.hsl.hex(fixedHsl)\n}\n","import mod from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=style&index=0&id=7015b306&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationAccountExpandCollapse.vue?vue&type=style&index=0&id=7015b306&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"[data-v-7015b306] .app-navigation-entry__title{color:var(--color-text-maxcontrast)}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=style&index=0&id=14b23999&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSettingsMenu.vue?vue&type=style&index=0&id=14b23999&scoped=true&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"\\np.avatar-settings span.icon-loading-small[data-v-14b23999] {\\n\\tdisplay: inline-block;\\n\\tvertical-align: middle;\\n\\tpadding: 5px 0;\\n}\\np.app-settings[data-v-14b23999] {\\n\\tpadding: 10px 0;\\n}\\n.app-settings-button[data-v-14b23999] {\\n\\tdisplay: block;\\n\\tpadding-left: 34px;\\n\\tbackground-position: 10px center;\\n}\\n.app-settings-link[data-v-14b23999] {\\n\\ttext-decoration: underline;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}