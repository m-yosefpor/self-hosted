(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1350:function(a,t,e){"use strict";var n=e(820);e.n(n).a},1351:function(a,t,e){(t=e(341)(!1)).push([a.i,"\n#emptycontent {\n\tmargin-top: 10vh;\n}\n",""]),a.exports=t},1362:function(a,t,e){"use strict";e.r(t);var n=e(666),s=e.n(n),o=e(363),i=e(23),l=e(822),r=e(665),m=e(18),u={name:"Setup",components:{AccountForm:l.a,Content:s.a,Navigation:r.a},data:function(){return{displayName:Object(o.loadState)("mail","prefill_displayName"),email:Object(o.loadState)("mail","prefill_email"),error:null}},computed:{hasAccounts:function(){return this.$store.getters.accounts.length>1}},methods:{onSave:function(a){var t=this;return this.error=null,this.$store.dispatch("createAccount",a).then((function(a){return m.a.info("account successfully created, redirecting â€¦"),t.$router.push({name:"home"}),a})).catch((function(a){m.a.error("Could not create account",{error:a}),a.message?t.error=a.message:t.error=Object(i.translate)("mail","Unexpected error during account creation")}))}}},d=(e(1350),e(35)),p=Object(d.a)(u,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("Content",{attrs:{"app-name":"mail"}},[a.hasAccounts?e("Navigation"):a._e(),a._v(" "),e("div",{attrs:{id:"emptycontent"}},[e("div",{staticClass:"icon-mail"}),a._v(" "),e("h2",[a._v(a._s(a.t("mail","Connect your mail account")))]),a._v(" "),e("AccountForm",{attrs:{"display-name":a.displayName,email:a.email,save:a.onSave},scopedSlots:a._u([a.error?{key:"feedback",fn:function(){return[a._v("\n\t\t\t\t"+a._s(a.error)+"\n\t\t\t")]},proxy:!0}:null],null,!0)})],1)],1)}),[],!1,null,null,null);t.default=p.exports},615:function(a,t,e){var n=e(752);"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);(0,e(342).default)("2f692375",n,!0,{})},616:function(a,t,e){var n=e(754);"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);(0,e(342).default)("f6eff682",n,!0,{})},751:function(a,t,e){"use strict";var n=e(615);e.n(n).a},752:function(a,t,e){(t=e(341)(!1)).push([a.i,"\n.tabs-component-tabs {\n\tdisplay: flex;\n}\n.tabs-component-tab {\n\tflex-grow: 1;\n\ttext-align: center;\n\tcolor: var(--color-text-lighter);\n}\n.tabs-component-tab.is-active {\n\tborder-bottom: 1px solid black;\n\tfont-weight: bold;\n}\n.tabs-component-panels {\n\tpadding-top: 20px;\n}\n.tabs-component-panels label {\n\ttext-align: left;\n\twidth: 100%;\n\tdisplay: inline-block;\n}\n.tabs-component-panels input,\n.tabs-component-panels select {\n\tmargin-bottom: 10px;\n}\n",""]),a.exports=t},753:function(a,t,e){"use strict";var n=e(616);e.n(n).a},754:function(a,t,e){(t=e(341)(!1)).push([a.i,"\nh4[data-v-75fca5a6] {\n\ttext-align: left;\n}\n.flex-row[data-v-75fca5a6] {\n\tdisplay: flex;\n}\nlabel.button[data-v-75fca5a6] {\n\tdisplay: inline-block;\n\ttext-align: center;\n\tflex-grow: 1;\n}\ninput[type='radio'][data-v-75fca5a6] {\n\tdisplay: none;\n}\ninput[type='radio'][disabled] + label[data-v-75fca5a6] {\n\tcursor: default;\n\topacity: 0.5;\n}\n",""]),a.exports=t},820:function(a,t,e){var n=e(1351);"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);(0,e(342).default)("b4f9faba",n,!0,{})},822:function(a,e,n){"use strict";var s=n(750),o=n(18);function i(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),e.push.apply(e,n)}return e}function l(a){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?i(Object(e),!0).forEach((function(t){r(a,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(e,t))}))}return a}function r(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}var m={name:"AccountForm",components:{Tab:s.Tab,Tabs:s.Tabs},props:{displayName:{type:String,default:""},email:{type:String,default:""},save:{type:Function,required:!0},account:{type:Object,required:!1,default:function(){}}},data:function(){var a=this,e=function(t,e){return void 0!==a.account?a.account[t]:e};return{loading:!1,mode:"auto",autoConfig:{accountName:this.displayName,emailAddress:this.email,password:""},manualConfig:{accountName:"",emailAddress:"",imapHost:e("imapHost",""),imapPort:e("imapPort",993),imapSslMode:e("imapSslMode","ssl"),imapUser:e("imapUser",""),imapPassword:"",smtpHost:e("smtpHost",""),smtpPort:e("smtpPort",587),smtpSslMode:e("smtpSslMode","tls"),smtpUser:e("smtpUser",""),smtpPassword:""},submitButtonText:this.account?t("mail","Save"):t("mail","Connect")}},computed:{settingsPage:function(){return void 0!==this.account}},methods:{onModeChanged:function(a){this.mode=a.tab.id,"manual"===this.mode&&(""===this.manualConfig.accountName&&(this.manualConfig.accountName=this.autoConfig.accountName),""===this.manualConfig.emailAddress&&(this.manualConfig.emailAddress=this.autoConfig.emailAddress),""===this.manualConfig.imapUser&&(this.manualConfig.imapUser=this.autoConfig.emailAddress),""===this.manualConfig.imapPassword&&(this.manualConfig.imapPassword=this.autoConfig.password),""===this.manualConfig.smtpUser&&(this.manualConfig.smtpUser=this.autoConfig.emailAddress),""===this.manualConfig.smtpPassword&&(this.manualConfig.smtpPassword=this.autoConfig.password))},onImapSslModeChange:function(){switch(this.manualConfig.imapSslMode){case"none":case"tls":this.manualConfig.imapPort=143;break;case"ssl":this.manualConfig.imapPort=993}},onSmtpSslModeChange:function(){switch(this.manualConfig.smtpSslMode){case"none":case"tls":this.manualConfig.smtpPort=587;break;case"ssl":this.manualConfig.smtpPort=465}},saveChanges:function(){return"auto"===this.mode?this.save(l({autoDetect:!0},this.autoConfig)):this.save(l({autoDetect:!1},this.manualConfig))},onSubmit:function(a){var t=this;console.debug("account form submitted",{event:a}),this.loading=!0,this.saveChanges().catch((function(a){return o.a.error("could not save account details",{error:a})})).then((function(){return t.loading=!1}))}}},u=(n(751),n(753),n(35)),d=Object(u.a)(m,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("form",{attrs:{id:"account-form"},on:{submit:function(t){return t.preventDefault(),a.onSubmit(t)}}},[e("tabs",{attrs:{options:{useUrlFragment:!1,defaultTabHash:a.settingsPage?"manual":"auto"},"cache-lifetime":"0"},on:{changed:a.onModeChanged}},[e("tab",{key:"auto",attrs:{id:"auto",name:a.t("mail","Auto")}},[e("label",{attrs:{for:"auto-name"}},[a._v(a._s(a.t("mail","Name")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.autoConfig.accountName,expression:"autoConfig.accountName"}],attrs:{id:"auto-name",type:"text",placeholder:a.t("mail","Name"),disabled:a.loading,autofocus:""},domProps:{value:a.autoConfig.accountName},on:{input:function(t){t.target.composing||a.$set(a.autoConfig,"accountName",t.target.value)}}}),a._v(" "),e("label",{attrs:{for:"auto-address"}},[a._v(a._s(a.t("mail","Mail Address")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.autoConfig.emailAddress,expression:"autoConfig.emailAddress"}],attrs:{id:"auto-address",type:"email",placeholder:a.t("mail","Mail Address"),disabled:a.loading,required:""},domProps:{value:a.autoConfig.emailAddress},on:{input:function(t){t.target.composing||a.$set(a.autoConfig,"emailAddress",t.target.value)}}}),a._v(" "),e("label",{attrs:{for:"auto-password"}},[a._v(a._s(a.t("mail","Password")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.autoConfig.password,expression:"autoConfig.password"}],attrs:{id:"auto-password",type:"password",placeholder:a.t("mail","Password"),disabled:a.loading,required:""},domProps:{value:a.autoConfig.password},on:{input:function(t){t.target.composing||a.$set(a.autoConfig,"password",t.target.value)}}})]),a._v(" "),e("tab",{key:"manual",attrs:{id:"manual",name:a.t("mail","Manual")}},[e("label",{attrs:{for:"man-name"}},[a._v(a._s(a.t("mail","Name")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.accountName,expression:"manualConfig.accountName"}],attrs:{id:"man-name",type:"text",placeholder:a.t("mail","Name"),disabled:a.loading},domProps:{value:a.manualConfig.accountName},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"accountName",t.target.value)}}}),a._v(" "),e("label",{attrs:{for:"man-address"}},[a._v(a._s(a.t("mail","Mail Address")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.emailAddress,expression:"manualConfig.emailAddress"}],attrs:{id:"man-address",type:"email",placeholder:a.t("mail","Mail Address"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.emailAddress},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"emailAddress",t.target.value)}}}),a._v(" "),e("h3",[a._v(a._s(a.t("mail","IMAP Settings")))]),a._v(" "),e("label",{attrs:{for:"man-imap-host"}},[a._v(a._s(a.t("mail","IMAP Host")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.imapHost,expression:"manualConfig.imapHost"}],attrs:{id:"man-imap-host",type:"text",placeholder:a.t("mail","IMAP Host"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.imapHost},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"imapHost",t.target.value)}}}),a._v(" "),e("h4",[a._v(a._s(a.t("mail","IMAP Security")))]),a._v(" "),e("div",{staticClass:"flex-row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.imapSslMode,expression:"manualConfig.imapSslMode"}],attrs:{id:"man-imap-sec-none",type:"radio",name:"man-imap-sec",disabled:a.loading,value:"none"},domProps:{checked:a._q(a.manualConfig.imapSslMode,"none")},on:{change:[function(t){return a.$set(a.manualConfig,"imapSslMode","none")},a.onImapSslModeChange]}}),a._v(" "),e("label",{staticClass:"button",class:{primary:"none"===a.manualConfig.imapSslMode},attrs:{for:"man-imap-sec-none"}},[a._v(a._s(a.t("mail","None")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.imapSslMode,expression:"manualConfig.imapSslMode"}],attrs:{id:"man-imap-sec-ssl",type:"radio",name:"man-imap-sec",disabled:a.loading,value:"ssl"},domProps:{checked:a._q(a.manualConfig.imapSslMode,"ssl")},on:{change:[function(t){return a.$set(a.manualConfig,"imapSslMode","ssl")},a.onImapSslModeChange]}}),a._v(" "),e("label",{staticClass:"button",class:{primary:"ssl"===a.manualConfig.imapSslMode},attrs:{for:"man-imap-sec-ssl"}},[a._v(a._s(a.t("mail","SSL/TLS")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.imapSslMode,expression:"manualConfig.imapSslMode"}],attrs:{id:"man-imap-sec-tls",type:"radio",name:"man-imap-sec",disabled:a.loading,value:"tls"},domProps:{checked:a._q(a.manualConfig.imapSslMode,"tls")},on:{change:[function(t){return a.$set(a.manualConfig,"imapSslMode","tls")},a.onImapSslModeChange]}}),a._v(" "),e("label",{staticClass:"button",class:{primary:"tls"===a.manualConfig.imapSslMode},attrs:{for:"man-imap-sec-tls"}},[a._v(a._s(a.t("mail","STARTTLS")))])]),a._v(" "),e("label",{attrs:{for:"man-imap-port"}},[a._v(a._s(a.t("mail","IMAP Port")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.imapPort,expression:"manualConfig.imapPort"}],attrs:{id:"man-imap-port",type:"number",placeholder:a.t("mail","IMAP Port"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.imapPort},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"imapPort",t.target.value)}}}),a._v(" "),e("label",{attrs:{for:"man-imap-user"}},[a._v(a._s(a.t("mail","IMAP User")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.imapUser,expression:"manualConfig.imapUser"}],attrs:{id:"man-imap-user",type:"text",placeholder:a.t("mail","IMAP User"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.imapUser},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"imapUser",t.target.value)}}}),a._v(" "),e("label",{attrs:{for:"man-imap-password"}},[a._v(a._s(a.t("mail","IMAP Password")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.imapPassword,expression:"manualConfig.imapPassword"}],attrs:{id:"man-imap-password",type:"password",placeholder:a.t("mail","IMAP Password"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.imapPassword},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"imapPassword",t.target.value)}}}),a._v(" "),e("h3",[a._v(a._s(a.t("mail","SMTP Settings")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.smtpHost,expression:"manualConfig.smtpHost"}],ref:"smtpHost",attrs:{type:"text",name:"smtp-host",placeholder:a.t("mail","SMTP Host"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.smtpHost},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"smtpHost",t.target.value)}}}),a._v(" "),e("h4",[a._v(a._s(a.t("mail","SMTP Security")))]),a._v(" "),e("div",{staticClass:"flex-row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.smtpSslMode,expression:"manualConfig.smtpSslMode"}],attrs:{id:"man-smtp-sec-none",type:"radio",name:"man-smtp-sec",disabled:a.loading,value:"none"},domProps:{checked:a._q(a.manualConfig.smtpSslMode,"none")},on:{change:[function(t){return a.$set(a.manualConfig,"smtpSslMode","none")},a.onSmtpSslModeChange]}}),a._v(" "),e("label",{staticClass:"button",class:{primary:"none"===a.manualConfig.smtpSslMode},attrs:{for:"man-smtp-sec-none"}},[a._v(a._s(a.t("mail","None")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.smtpSslMode,expression:"manualConfig.smtpSslMode"}],attrs:{id:"man-smtp-sec-ssl",type:"radio",name:"man-smtp-sec",disabled:a.loading,value:"ssl"},domProps:{checked:a._q(a.manualConfig.smtpSslMode,"ssl")},on:{change:[function(t){return a.$set(a.manualConfig,"smtpSslMode","ssl")},a.onSmtpSslModeChange]}}),a._v(" "),e("label",{staticClass:"button",class:{primary:"ssl"===a.manualConfig.smtpSslMode},attrs:{for:"man-smtp-sec-ssl"}},[a._v(a._s(a.t("mail","SSL/TLS")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.smtpSslMode,expression:"manualConfig.smtpSslMode"}],attrs:{id:"man-smtp-sec-tls",type:"radio",name:"man-smtp-sec",disabled:a.loading,value:"tls"},domProps:{checked:a._q(a.manualConfig.smtpSslMode,"tls")},on:{change:[function(t){return a.$set(a.manualConfig,"smtpSslMode","tls")},a.onSmtpSslModeChange]}}),a._v(" "),e("label",{staticClass:"button",class:{primary:"tls"===a.manualConfig.smtpSslMode},attrs:{for:"man-smtp-sec-tls"}},[a._v(a._s(a.t("mail","STARTTLS")))])]),a._v(" "),e("label",{attrs:{for:"man-smtp-port"}},[a._v(a._s(a.t("mail","SMTP Port")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.smtpPort,expression:"manualConfig.smtpPort"}],attrs:{id:"man-smtp-port",type:"number",placeholder:a.t("mail","SMTP Port"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.smtpPort},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"smtpPort",t.target.value)}}}),a._v(" "),e("label",{attrs:{for:"man-smtp-user"}},[a._v(a._s(a.t("mail","SMTP User")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.smtpUser,expression:"manualConfig.smtpUser"}],attrs:{id:"man-smtp-user",type:"text",placeholder:a.t("mail","SMTP User"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.smtpUser},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"smtpUser",t.target.value)}}}),a._v(" "),e("label",{attrs:{for:"man-smtp-password"}},[a._v(a._s(a.t("mail","SMTP Password")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.smtpPassword,expression:"manualConfig.smtpPassword"}],attrs:{id:"man-smtp-password",type:"password",placeholder:a.t("mail","SMTP Password"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.smtpPassword},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"smtpPassword",t.target.value)}}})])],1),a._v(" "),a._t("feedback"),a._v(" "),e("input",{staticClass:"primary",attrs:{type:"submit",disabled:a.loading},domProps:{value:a.submitButtonText},on:{click:function(t){return t.preventDefault(),a.onSubmit(t)}}})],2)}),[],!1,null,"75fca5a6",null);e.a=d.exports}}]);
//# sourceMappingURL=mail.12.9c045d1293d859736023.js.map